<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>{% block title %}Les Epreuves{% endblock %}</title>
     <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    {% block css %}{% endblock %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body class="container my-4" style="background-color: rgb(230, 230, 250);">

    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">Jeux-Olympique</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/">Accueil</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('main.all_epreuve_front')}}">Epreuves</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('main.contact')}}">Contact</a>
            </li>

                {% if current_user.is_authenticated %}
            <!-- Quand l'utilisateur est connecté -->
              <li>
                <a class="btn" href="{{ url_for('main.logout') }}">Déconnexion</a>
              </li>
        {% else %}
            <!-- Quand il n'est pas connecté -->
              <li>
                  <a class="btn" href="{{ url_for('main.login') }}">Connexion</a>
              </li>
        {% endif %}


              {% if current_user.role == 'admin' %}
            <!-- Quand l'utilisateur est un admin -->
              <li>
                <a class="btn" href="{{ url_for('admin.admin_dashboard') }}">Mon espace</a>
              </li>

              {% elif current_user.role == 'employe' %}
            <!-- Quand l'utilisateur est un employe-->
              <li>
                  <a class="btn" href="{{ url_for('employe.employe_dashboard') }}">Mon espace</a>
              </li>

              {% else %}
            <!-- Quand l'utilisateur est un utilisateur-->
              <li>
                  <a class="btn" href="{{ url_for('utilisateur.utilisateur_dashboard') }}">Mon espace</a>
              </li>
            {% endif %}
          </ul>

                 <!-- Button trigger modal -->
        <button type="button" class="btn btn-danger ms-auto" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
          A LIRE AVANT DE VISITER LE SITE
        </button>

        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5" id="staticBackdropLabel">A LIRE AVANT DE VISITER LE SITE</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                <p> ATTENTION: Ceci n'est pas le site officiel, ce n'est qu'un projet d'étude.
                Toutes transactions ne sont que des simulations donc fausses, tout comme les billets/tickets avec les QR codes
                pour votre sécurité évitez de mettre des vraies coordonnées bancaires. Merci pour votre compréhension</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-success" data-bs-dismiss="modal">Compris</button>
              </div>
            </div>
          </div>
        </div>
        </div>
      </div>
    </nav>


    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-success">
          {{ messages[0] }}
        </div>
      {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}

<footer id="footer">
    <div class="container" id="div-footer">
        <a href="/"><img src="{{ url_for('static', filename='images/logo.svg') }}" alt="Logo des jeux-olympiques" id="Logo-footer"></a>
        <p id="attention">ATTENTION: Ceci n'est pas le site officiel, ce n'est qu'un projet d'étude.
            Toute transaction ne sont que des simulations donc fausses,
            pour votre sécurité évitez de mettre des vraies coordonnées bancaires. Merci pour votre compréhension </p>
    </div>
</footer>



{% block js %}{% endblock %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
